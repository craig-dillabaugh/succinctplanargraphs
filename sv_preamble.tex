% EDITING GUIDELINES
%
% * Limit lines to no more than 100 characters.  The default should be
%   80 characters.  This leaves room for the addition of 20 new
%   characters on the same line later on.
%
%   RATIONALE: Long lines are hard to read and cause trouble when
%   viewing two versions of the file side by side (e.g., using vimdiff)
%
% * Start every sentence on a new line.
%
%   RATIONALE: This makes sentences so much easier to find using forward
%   search in emacs or vim.
%
% * Do not justify paragraphs.  Particularly, when editing an existing
%   version of the text, do not change line breaks apart from adding
%   line breaks for lines that would otherwise be too long.
%
%   RATIONALE: This makes changes from previous versions so much easier
%   to identify, particularly when using a VCS.  Adding a word and
%   justifying the paragraph may change all the lines in the paragraph,
%   making this look like a huge edit.  Without justification, the
%   diff shows only the addition of the one word.

%%% PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{amsmath}
%\usepackage{amsthm}
\usepackage{authblk}
\usepackage{caption}
\usepackage{charter}
\usepackage[noadjust]{cite}
\usepackage{enumitem}
\usepackage[letterpaper,margin=1in]{geometry}
%\usepackage{graphicx}
\usepackage{ifthen}
\usepackage{bold-extra}
\usepackage[charter]{mathdesign}
\usepackage{subcaption}

%%% MACROS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%---[ Theorems ]----------------------------------------------------------------

%\newtheorem{theorem}{Theorem}
%\newtheorem{lemma}{Lemma}
%\newtheorem{corollary}{Corollary}
%\newtheorem{claim}{Claim}
\newtheorem{observation}{Observation}
%\newtheorem{correction}{Correction}

%---[ A macro for typesetting "et al." in references ]--------------------------

\def\etal{\emph{et~al.}}

%---[ Parenthesization ]----------------------------------------------

\newcommand{\newparentheses}[3]{%
  \expandafter\newcommand\csname #1\endcsname[1]{#2##1#3}%
  \expandafter\newcommand\csname #1L\endcsname[1]{\bigl#2##1\bigr#3}%
  \expandafter\newcommand\csname #1XL\endcsname[1]{\Bigl#2##1\Bigr#3}%
  \expandafter\newcommand\csname #1V\endcsname[1]{\left#2##1\right#3}}

\newparentheses{parens}{(}{)}
\newparentheses{braces}{\{}{\}}
\newparentheses{brackets}{[}{]}
\newparentheses{floor}{\lfloor}{\rfloor}
\newparentheses{ceil}{\lceil}{\rceil}
\newparentheses{abs}{|}{|}
\newparentheses{set}{\{}{\}}
\newparentheses{size}{|}{|}
\newparentheses{seq}{\langle}{\rangle}

%---[ Attributes ]----------------------------------------------------

\makeatletter
\newcommand{\onenewattribute}[4]{%
  \@ifundefined{#2}{\let\@@def\newcommand}{\let\@@def\renewcommand}%
  \expandafter\@@def\csname #2\endcsname[1][]{%
    \def\first@arg{##1}\csname @#2\endcsname}%
  \@ifundefined{@#2}{\let\@@def\newcommand}{\let\@@def\renewcommand}%
  \expandafter\@@def\csname @#2\endcsname[2][]{%
    \ifthenelse{\equal{#1}{sub}}%
    {\csname @@#2\endcsname{##1}{\first@arg}{##2}}%
    {\csname @@#2\endcsname{\first@arg}{##1}{##2}}}
  \@ifundefined{@@#2}{\let\@@def\newcommand}{\let\@@def\renewcommand}%
  \expandafter\@@def\csname @@#2\endcsname[3]{%
    \ifthenelse{\equal{##1}{}}%
    {\ifthenelse{\equal{##2}{}}%
      {#3\csname #4\endcsname{##3}}%
      {#3_{##2}\csname #4\endcsname{##3}}}%
    {\ifthenelse{\equal{##2}{}}%
      {#3^{##1}\csname #4\endcsname{##3}}%
      {#3_{##2}^{##1}\csname #4\endcsname{##3}}}}}
\newcommand{\newattribute}[3][sub]{%
  \onenewattribute{#1}{#2}{#3}{parens}%
  \onenewattribute{#1}{#2L}{#3}{parensL}%
  \onenewattribute{#1}{#2XL}{#3}{parensXL}%
  \onenewattribute{#1}{#2V}{#3}{parensV}}

\newcommand{\newproperty}[2]{%
  \@ifundefined{#1}{\let\@@def\newcommand}{\let\@@def\renewcommand}%
  \expandafter\@@def\csname #1\endcsname[1][]{%
    {\ifthenelse{\equal{##1}{}}%
      {#2}%
      {#2_{##1}}}}}

\makeatother

%---[ Asymptotic notation ]-------------------------------------------

\newattribute{OhOf}{\mathrm{O}}
\newattribute{ThetaOf}{\Theta}
\newattribute{OmegaOf}{\Omega}
\newattribute{ohOf}{\mathrm{o}}
\newattribute{omegaOf}{\omega}

\newcommand{\BigOh}[1]{O\!\left(#1\right)}
\newcommand{\LittleOh}[1]{o\!\left(#1\right)}

%---[ Macros for a bunch of operations we perform ]-----------------------------

\newcommand{\rankopsym}{\texttt{rank}}
\newattribute{rankop}{\rankopsym}
\newcommand{\selopsym}{\texttt{select}}
\newattribute{selop}{\selopsym}
\newcommand{\stepop}{\texttt{step}}
\newcommand{\regpossym}{\texttt{rpos}}
\newattribute{regpos}{\regpossym}
\newcommand{\subregpossym}{\texttt{spos}}
\newattribute{subregpos}{\subregpossym}
\newcommand{\possubregsym}{\texttt{sreg}}
\newattribute{possubreg}{\possubregsym}
\newcommand{\bdcountsym}{\texttt{sbdcount}}
\newattribute{bdcount}{\bdcountsym}

%---[ Macros for some concepts ]------------------------------------------------

\newcommand{\path}{K}
\newcommand{\pointset}{P}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\plane}{\reals^2}
\newcommand{\triang}{\mathcal{T}}
\newcommand{\dual}[1]{#1^*}
\newcommand{\augdual}[1]{#1^+}

\newattribute{deg}{d}
\newattribute{nb}{N}

\newcommand{\regsz}{r_1}
\newcommand{\subregsz}{r_2}
\newcommand{\regub}{s_R}
\newcommand{\subregub}{s_S}

\newattribute{glbl}{\ell_G}
\newattribute{reglbl}{\ell}
\newattribute{subreglbl}{\ell}

\newproperty{reg}{R}
\newproperty{subreg}{R}
\newproperty{perm}{\pi}
\newproperty{graphrep}{\mathcal{G}}
\newproperty{numv}{n}
\newproperty{dnumv}{n'}
\newproperty{bdvec}{\mathcal{B}}
\newproperty{keyvec}{\mathcal{K}}
\newproperty{lblvec}{\mathcal{L}}
\newproperty{fstofreg}{\mathcal{F}_R}
\newproperty{fstofsubreg}{\mathcal{F}_S}
\newproperty{defvec}{\mathcal{D}}
\newproperty{vvec}{\mathcal{V}}
\newproperty{regvec}{\mathcal{R}}
\newproperty{subregvec}{\mathcal{R}_{\ell} } %was \mathcal{S} S, but clashes with \ds
\newproperty{idxvec}{\mathcal{I}}

\newproperty{term}{\mathcal{T}}
\newproperty{pos}{p}
\newproperty{genvec}{\mathcal{A}}

\newcommand{\ds}{\mathcal{S}}
\newcommand{\fst}{\mathcal{F}}
\newcommand{\diff}{\mathcal{D}}
\newcommand{\regnbvec}{\mathcal{N}_R}
\newcommand{\subregnbvec}{\mathcal{N}_S}
\newcommand{\regminvec}{\mathcal{M}_R}
\newcommand{\subregminvec}{\mathcal{M}_S}
\newcommand{\regbdvec}{\bdvec[R]}
\newcommand{\subregbdvec}{\bdvec[S]}
\newcommand{\reglt}{\prec_R}
\newcommand{\subreglt}{\prec_S}
\newcommand{\succblksize}{\textbf{\textsc{B}}} %CD: I am using this instead for A'.
%\newcommand{\succblksize}{\text{\bf{\small{B}}}} %CD: I am using this for now, since B' makes
% some of our notations awkward.

\newcommand{\regptable}{\mathcal{P}_R}
\newcommand{\subregptable}{\mathcal{P}_{SR}}


% The following are terrible.  Clean up later.
\newcommand{\wsize}{w}
\newcommand{\augdualsym}{+}  %This is no longer used.
%\newcommand{\myAugTriDual}{\mathcal{T}^{\augdualsym}}
% now \augdual{\triang}
\newcommand{\myTriDualTree}{\mathcal{T}^*_T}
\newcommand{\myCComp}{\dual{\triang}_C} %Changing to
\newcommand{\concomp}{{\triang}_C} %Was formerly \myCComp
\newcommand{\bitsPerKey}{q}
\newcommand{\bitsPerPoint}{\phi}

\newcommand{\funccase}[1]{\texttt{#1}}

%---[ Caligraphic letters to be replaced by mnemonics later ]-------------------

\newcommand{\B}{\mathcal{B}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\G}{\mathcal{G}}
\newcommand{\K}{\mathcal{K}}
\renewcommand{\L}{\mathcal{L}}
\newcommand{\N}{\mathcal{N}}
\renewcommand{\S}{\mathcal{S}}
\newcommand{\T}{\mathcal{T}}

%---[ Two dots for typesetting ranges ]-----------------------------------------

\newcommand{\tdots}{\mathinner{\ldotp\ldotp}}

%---[ Some beautification ]-----------------------------------------------------

\let\epsilon\varepsilon

%---[ Macro for putting comments in the margin ]--------------------------------

\def\comment#1{}
\def\withcomments{%
  \addtolength{\oddsidemargin}{-0.5in}%
  \addtolength{\evensidemargin}{-0.5in}%
  \setlength{\marginparwidth}{1in}
  \newcounter{mycommentcounter}%
  \def\comment##1{\refstepcounter{mycommentcounter}%
    \ifhmode
      \unskip
      {\dimen1=\baselineskip
        \divide\dimen1 by 2%
        \raise\dimen1\llap{\tiny -\themycommentcounter-}}%
    \fi
    \marginpar{\renewcommand{\baselinestretch}{0.8}%
      \footnotesize [\themycommentcounter]: \raggedright ##1}}%
  \date{\framebox{Draft of \today}}}
\withcomments

%%% Local Variables:
%%% TeX-PDF-mode: t
%%% TeX-master: "main"
%%% End:
